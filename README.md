- ğŸ‘‹ Hi, Iâ€™m @AlyssSix
- ğŸ‘€ Iâ€™m interested in ...
- ğŸŒ± Iâ€™m currently learning ...
- ğŸ’ï¸ Iâ€™m looking to collaborate on ...
- ğŸ“« How to reach me ...

<!---
AlyssSix/AlyssSix is a âœ¨ special âœ¨ repository because its `README.md` (this file) appears on your GitHub profile.
You can click the Preview link to take a look at your changes.
--->

å­¸æ ¡	å­¸ç³»	åœ¨è·/ä¸€èˆ¬ç”Ÿ	æˆç¸¾å–®æ­£æœ¬	æ¨è–¦å‡½	åˆå¯©	è¤‡å¯©	éŒ„å–ç‡	ä»Šå¹´éŒ„å–äººæ•¸	å ±åäººæ•¸	åœ¨è·è­‰æ˜æ›¸	èˆŠæ©Ÿæ§‹	remark	ç¼ºé¡
äº¤é€šå¤§å­¸	ç¶²ï¤·å·¥ç¨‹ç ”ç©¶æ‰€ç¢©å£«ç­(è¯æ‹›)	åœ¨è·ç”Ÿ	æ­£æœ¬	2	100%	NA	22%	(æ··åˆ)150äºº	148/668	æ­£æœ¬1å¹´(å¯„)		æ›¸é¢ç´™æœ¬	è¯æ‹›
äº¤é€šå¤§å­¸	æ•¸æ“šç§‘å­¸èˆ‡å·¥ç¨‹ç ”ç©¶æ‰€	åœ¨è·ç”Ÿ	æ­£æœ¬	2	100%	NA	10%	(æ··åˆ)35äºº	25/247	æ­£æœ¬1å¹´(å¯„)		æ›¸é¢ç´™æœ¬	â†‘å¢åŠ 10äºº
äº¤é€šå¤§å­¸	è³‡è¨Šç§‘å­¸èˆ‡å·¥ç¨‹ç ”ç©¶æ‰€ä¸™çµ„	åœ¨è·ç”Ÿ	æ­£æœ¬	2	33%	66%	13%	(æ··åˆ)12äºº	10/76	æ­£æœ¬1å¹´(å¯„)			â†‘å¢åŠ 2äºº 
äº¤é€šå¤§å­¸	è³‡è¨Šç§‘å­¸èˆ‡å·¥ç¨‹ç ”ç©¶æ‰€æˆŠçµ„	åœ¨è·ç”Ÿ	æ­£æœ¬	2	33%	66%	10%	(æ··åˆ)7äºº	7/68	æ­£æœ¬1å¹´(å¯„)			
äº¤é€šå¤§å­¸	æ™ºèƒ½ç³»çµ±ç ”ç©¶æ‰€ç¢©å£«ç­æ˜¥(è¯æ‹›)	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	2	100%	NA	NA	NA	NA				è¯æ‹›
æˆåŠŸå¤§å­¸	å·¥æ¥­èˆ‡è³‡è¨Šç®¡ç†å­¸ç³»ç¢©å£«ç­	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	è‡³å¤š2	60%	40%	18%	24äºº	133				
æˆåŠŸå¤§å­¸	è³‡è¨Šç®¡ç†ç ”ç©¶æ‰€	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	2	40%	60%	14%	14äºº					
æˆåŠŸå¤§å­¸	äººå·¥æ™ºæ…§ç§‘æŠ€ç¢©å£«å­¸ä½å­¸ç¨‹	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	NA	50%	50%	11%	9äºº					
æ¸…è¯å¤§å­¸	è³‡è¨Šå·¥ç¨‹å­¸ç³»ç¢©å£«ç­ (ç”²çµ„) è‹±æ–‡è¨ˆåŠƒæ›¸	åœ¨è·ç”Ÿ	ä¸Šå‚³	2	100%	NA	42%	3äºº	7	æ­£æœ¬2å¹´	å‹ä¿å±€		
æ¸…è¯å¤§å­¸	è³‡è¨Šå®‰å…¨ç ”ç©¶æ‰€ç¢©å£«ç­	åœ¨è·ç”Ÿ	ä¸Šå‚³	2	50%	50%	50%	1äºº	2	æ­£æœ¬2å¹´	å‹ä¿å±€		
æ¸…è¯å¤§å­¸	è³‡è¨Šç³»çµ±èˆ‡æ‡‰ç”¨ç ”ç©¶æ‰€ç¢©å£«ç­	åœ¨è·ç”Ÿ	ä¸Šå‚³	2	50%	50%	50%	1äºº	2	æ­£æœ¬2å¹´	å‹ä¿å±€		
æ¸…è¯å¤§å­¸	è³‡è¨Šå·¥ç¨‹å­¸ç³»ç¢©å£«ç­ ä¸™çµ„(äººå·¥æ™ºæ…§çµ„) 	åœ¨è·ç”Ÿ	ä¸Šå‚³	2	50%	50%	50%	1äºº	2	æ­£æœ¬2å¹´	å‹ä¿å±€		
æ”¿æ²»å¤§å­¸	è³‡è¨Šç§‘å­¸ç³»è³‡è¨Šç§‘å­¸èˆ‡å·¥ç¨‹çµ„(ä¸€èˆ¬çµ„)ä¸€èˆ¬ç”Ÿ	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	2	60%	40%	0.3	21äºº	33/107			æˆç¸¾æœ‰ç‰¹åˆ¥è¦æ±‚	â†“æ¸›å°‘12
æ”¿æ²»å¤§å­¸	ç§‘æŠ€ç®¡ï§¤èˆ‡æ™ºæ…§è²¡ç”¢ç ”ç©¶æ‰€æ™ºæ…§è²¡ç”¢çµ„	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	2	30%	70%	25%	8äºº	35äºº				â†“æ¸›å°‘1
æ”¿æ²»å¤§å­¸	è³‡è¨Šç®¡ï§¤å­¸ç³»(ç§‘æŠ€çµ„)	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	è‡³å¤š2	40%	60%	0.18	7äºº	39			æˆç¸¾æœ‰ç‰¹åˆ¥è¦æ±‚	
æ”¿æ²»å¤§å­¸	è³‡è¨Šç§‘å­¸ç³»æ™ºæ…§è¨ˆç®—çµ„ä¸€èˆ¬ç”Ÿ	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	2	60%	40%	32%	8äºº	25				
æ”¿æ²»å¤§å­¸	è³‡è¨Šç®¡ï§¤å­¸ç³»(è³‡ç®¡çµ„)	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	è‡³å¤š2	40%	60%	13%	18äºº	17/127				
ä¸­èˆˆ	ç§‘æŠ€ç®¡ï§¤ç ”ç©¶æ‰€é›»å­å•†å‹™	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	è‡³å¤š2	60%	40%	13%	4äºº	29				
ä¸­èˆˆ	ç§‘æŠ€ç®¡ï§¤ç ”ç©¶æ‰€ç§‘æŠ€ç®¡ï§¤	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	è‡³å¤š2	60%	40%	12%	4äºº	31				
ä¸­å¤®	è³‡è¨Šç®¡ç†å­¸ç³»ç¢©å£«ç­ (è‡ªå‚³ç”¨æœ¬ç³»è‡ªè¨‚è¡¨æ ¼)	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	NA	50%	50%	21%	46äºº	224				
ä¸­å¤®	è³‡è¨Šå·¥ç¨‹å­¸ç³»è»Ÿé«”å·¥ç¨‹ç¢©å£«ç­(å…©åƒå­—å…§)	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	2	50%	50%	20%	20äºº	10/42				â†‘å¢åŠ 10äºº
ä¸­æ­£	è³‡è¨Šå·¥ç¨‹å­¸ç³»	åœ¨è·ç”Ÿ\ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	2	50%	50%	100%	2äºº	1äºº	æ­£æœ¬2å¹´	å‹ä¿å±€	ä¸€èˆ¬ç”Ÿ26% 75äºº	å¯ä»¥å ±åŒæ™‚å…©çµ„
ä¸­æ­£	è³‡è¨Šç®¡ç†å­¸ç³»	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	3	50%	50%	0.21	16äºº	70äºº				
ä¸­å±±	è³‡è¨Šå·¥ç¨‹å­¸ç³»ç”²çµ„	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	å¯æ”¾	50%	50%	0.17	47äºº	51/292			A~E	â†“æ¸›å°‘ï¼”
ä¸­å±±	è³‡è¨Šç®¡ç†å­¸ç³»	ä¸€èˆ¬ç”Ÿ	ä¸Šå‚³	å½Œå°æ¨è–¦ä¿¡2å°	50%	50%	0.22	27äºº	30/136				â†“æ¸›å°‘ï¼“ 







 


*-----------------------------***********************************-------*--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--*--*

from DBSrv5ConnPy.db_object import DBObject ##DBé€£ç·šå·¥å…·
from jira import JIRA ##JIRAå¥—ä»¶
import getpass ##åŠ è§£å¯†å·¥å…·
import requests ##çˆ¬èŸ²å·¥å…·
import pandas as pd ##æ½˜é”


opentxt=open('Jira.txt',encoding="utf-8") ##é–‹è¨˜äº‹æœ¬config
text = []
for line in opentxt.read().splitlines(): ##åˆ—å‡ºè¨˜äº‹æœ¬è³‡æ–™
    text.append(line)
    


##æŠ“å¸³å¯†
account = (text[1])
password = (text[3])

##è§£å¯†ç¢¼
def dectry(p):
    decodtool = 'djq%5cu#-jeq15abg$z9_i#_w=$o88m!*alpbedlbat8cr74sd'
    password_decoded = ""
    for i,j in zip(p.split("_")[:-1],decodtool):
        # i ç‚ºåŠ å¯†å­—å…ƒï¼Œjç‚ºç¥•é‘°å­—å…ƒ
        temp = chr(int(i) - ord(j)) # è§£å¯†å­—å…ƒ = (åŠ å¯†Unicodeç¢¼å­—å…ƒ - ç¥•é‘°å­—å…ƒçš„Unicodeç¢¼)çš„å–®ä½å…ƒçµ„å­—å…ƒ
        password_decoded = password_decoded+temp
    return password_decoded
password_decoded = dectry(password)
password = password_decoded
authority = (account , password)

if (text[9])=='False':
    testserver=False
    testshow="æ­£å¼ç’°å¢ƒ(PROD)"
else :
    testserver=True
    testshow="æ¸¬è©¦ç’°å¢ƒ(TEST)"
print ("ç›®å‰æ˜¯:",testshow)
print ("DBå» å€:",text[7])
mes_obj = DBObject(fab=(text[7]), is_test_db=testserver)   ##é€£å…¥è³‡æ–™åº«å» å€&Test
login = requests.get('http://300jira:8080/', auth=authority) ##é€²å…¥jiraç¶²é 
if login.status_code == requests.codes.ok:  ##æª¢æŸ¥ç¶²è·¯&ç™»å…¥æ˜¯å¦æ­£å¸¸
    print("æˆåŠŸç™»å…¥JIRA")
    print("ç”Ÿæˆç©ºé–“ä¸­...")
    jira = JIRA( {'server': 'http://300jira:8080/'}, basic_auth=authority) ##ç™»å…¥jira       
    TABLE_BT = {}
    BT_KEY_NUMBER=[]
    BT_SUMMARY_TITLE=[]    ##åªæ˜¯ä¸€å †å€‰åº«
    BT_REPORTER=[]
    BT_ASSIGNEE=[]
    BT_ISSUE_TYPE=[]
    BT_DUE_DATE=[]
    BT_STATUS=[]
    BT_COMPONENTS=[]
    BT_ATTACHMENT=[]
    
    TABLE_BTHHH = {}
    KEY_NUMBER=[]
    SUMMARY_TITLE=[]    ##åªæ˜¯ä¸€å †å€‰åº«
    REPORTER=[]
    ASSIGNEE=[]
    ISSUE_TYPE=[]
    DUE_DATE=[]
    STATUS=[]
    COMPONENTS=[]
    ATTACHMENT=[]
    YC=0
    CC=0
    new =0
    up = 0
    i=-1
    
    print("ä½ çš„JIRAæœå°‹èªæ³•: ",text[5])
    print("ç”Ÿæˆå®Œç•¢ï¼ŒæŠ“å–è³‡æ–™ä¸­.....")
    
    for issue in jira.search_issues(text[5],fields='*all',maxResults=500): ##æœå°‹JIRAä¸‹JQLæŒ‡ä»¤
       
        container = ('{}'.format(issue.key))
        KEY_NUMBER.append(container)          ##å¾€ä¸‹æŠ“å„é¡è³‡æ–™&å­˜æ”¾
        container = ('{}'.format(issue.fields.summary)) 
        SUMMARY_TITLE.append(container)
        container = ('{}'.format(issue.fields.reporter))
        REPORTER.append(container)

        container = ('{}'.format(issue.fields.assignee))
        ASSIGNEE.append(container)

        container = ('{}'.format(issue.fields.issuetype))
        ISSUE_TYPE.append(container)

        container = ('{}'.format(issue.fields.duedate))
        DUE_DATE.append(container)

        container = ('{}'.format(issue.fields.status))
        STATUS.append(container)
        
        containerA= ('{}'.format(issue.fields.attachment))
        if len(issue.fields.attachment):   #åˆ¤æ–·ç¶²é æœ‰ç„¡é™„åœ–ï¼Œæœ‰å³å­˜å…¥Yï¼Œç„¡å‰‡N
            ATTACHMENT.append('Y')
            
        else:
            ATTACHMENT.append('N')
           
        i=i+1
        
## Queryæ‰¾å‡ºTABLEçš„KEYè·Ÿç¶²é çš„KEYç›¸åŒä¹‹ TABLEçš„KEY   
        sql = ("select KEY_NUMBER from INFRA_JIRA_ORDER_BT where KEY_NUMBER = '{}'").format(issue.key) 
        Qkey=mes_obj.query(sql=sql,debug=False)
        
 
    ##å¦‚æœæ˜¯TABLEä¸å­˜åœ¨çš„KEYå‰‡
        
        if Qkey.empty == True:
            
            container = ('{}'.format(issue.key))
            BT_KEY_NUMBER.append(container)          ##å¾€ä¸‹æŠ“å„é¡è³‡æ–™&å­˜æ”¾
            container = ('{}'.format(issue.fields.summary)) 
            BT_SUMMARY_TITLE.append(container)
            container = ('{}'.format(issue.fields.reporter))
            BT_REPORTER.append(container)

            container = ('{}'.format(issue.fields.assignee))
            BT_ASSIGNEE.append(container)

            container = ('{}'.format(issue.fields.issuetype))
            BT_ISSUE_TYPE.append(container)

            container = ('{}'.format(issue.fields.duedate))
            BT_DUE_DATE.append(container)

            container = ('{}'.format(issue.fields.status))
            BT_STATUS.append(container)
            
            containerA= ('{}'.format(issue.fields.attachment))
            if len(issue.fields.attachment):   #åˆ¤æ–·ç¶²é æœ‰ç„¡é™„åœ–ï¼Œæœ‰å³å­˜å…¥Yï¼Œç„¡å‰‡N
                BT_ATTACHMENT.append('Y')
            
            else:
                BT_ATTACHMENT.append('N')
            
            TABLE_BT['KEY_NUMBER'] = BT_KEY_NUMBER
            TABLE_BT['SUMMARY_TITLE'] = BT_SUMMARY_TITLE
            TABLE_BT['REPORTER']=BT_REPORTER
            TABLE_BT['ASSIGNEE']=BT_ASSIGNEE
            TABLE_BT['ISSUE_TYPE']=BT_ISSUE_TYPE
            TABLE_BT['DUE_DATE']=BT_DUE_DATE
            TABLE_BT['STATUS']=BT_STATUS
            TABLE_BT['ATTACHMENT']=BT_ATTACHMENT
            new=new+1
            
            
            
            
  
            
##å¦‚æœæ˜¯TABLEå­˜åœ¨çš„KEYå‰‡
        else:                       
            ##ç¯©é¸ç¶²é æŠ“åˆ°çš„KEYåœ¨TABLEä¸­çš„ ATTACHMENT ä»¥åŠ STATUS
            sql = ("select ATTACHMENT,STATUS from INFRA_JIRA_ORDER_BT where KEY_NUMBER = '{}'").format(issue.key) 
            Qattachment=mes_obj.query(sql=sql,debug=False)
            #print('*********************', Qattachment)
            
            ##å¦‚æœAttachment æ˜¯ Y ä»¥åŠ STATUS æ˜¯ CLOSE å‰‡ä¸å‹•ä½œ
            if Qattachment.iloc[0,0] == 'Y' and Qattachment.iloc[0,1] =='Close':
              
                #print(issue.key,"æ˜¯Yä¹Ÿæ˜¯CLOSE")
                YC=YC+1
                #print(YC)
             
            elif Qattachment.iloc[0,1] =='Cancelled':
                
                #print(issue.key,"å·²Cancelled")
                CC=CC+1
                #print(CC)
            else:
                ##update TABLEè£¡å–®ç­†è³‡æ–™
                update_sql = "UPDATE INFRA_JIRA_ORDER_BT SET KEY_NUMBER='{}',SUMMARY_TITLE='{}',REPORTER='{}',ASSIGNEE='{}',ISSUE_TYPE='{}',DUE_DATE='{}',STATUS='{}',ATTACHMENT='{}',RECTIME=SYSDATE WHERE KEY_NUMBER = '{}'".format(issue.key,issue.fields.summary,issue.fields.reporter,issue.fields.assignee,issue.fields.issuetype,issue.fields.duedate,issue.fields.status,ATTACHMENT[i],issue.key) 
                mes_obj.non_query(sql=update_sql,debug=False)   
                #print(issue.key,"å› ç‚ºæ˜¯éYéCLOSE")
                up=up+1
                #print(up)
   
    print("è³‡æ–™æŠ“å–å®Œç•¢")
    print("æ›´æ–°BT DB ä¸­")
           
                ##å¡é€²ç¶²é è³‡æ–™ insert
    df= pd.DataFrame(TABLE_BT,columns=['KEY_NUMBER','SUMMARY_TITLE','REPORTER','ASSIGNEE',
                                               'ISSUE_TYPE','DUE_DATE','STATUS','ATTACHMENT'] )
    mes_obj.non_query(df=df, cols=['KEY_NUMBER','SUMMARY_TITLE','REPORTER','ASSIGNEE',
                                       'ISSUE_TYPE','DUE_DATE','STATUS','ATTACHMENT'],
    table='INFRA_JIRA_ORDER_BT',nqtype='insert',debug=False)
            

        
    ##å…¨éƒ¨ä¸€åŒ…å­˜å…¥History
        ##åˆ—å‡ºè³‡æ–™æ ¼å¼
        
    TABLE_BTHHH['KEY_NUMBER'] = KEY_NUMBER
    TABLE_BTHHH['SUMMARY_TITLE'] = SUMMARY_TITLE
    TABLE_BTHHH['REPORTER']=REPORTER
    TABLE_BTHHH['ASSIGNEE']=ASSIGNEE
    TABLE_BTHHH['ISSUE_TYPE']=ISSUE_TYPE
    TABLE_BTHHH['DUE_DATE']=DUE_DATE
    TABLE_BTHHH['STATUS']=STATUS
    TABLE_BTHHH['ATTACHMENT']=ATTACHMENT

    print("æ›´æ–°BTH DB ä¸­")
    ##ä¸€æ¬¡å­˜å…¥DB[INFRA_JIRA_ORDER_BTH]
    df = pd.DataFrame(TABLE_BTHHH,columns=['KEY_NUMBER','SUMMARY_TITLE','REPORTER','ASSIGNEE',
                                       'ISSUE_TYPE','DUE_DATE','STATUS','ATTACHMENT'] )
    mes_obj.non_query(df=df, cols=['KEY_NUMBER','SUMMARY_TITLE','REPORTER','ASSIGNEE',
                                       'ISSUE_TYPE','DUE_DATE','STATUS','ATTACHMENT'],
                      table='INFRA_JIRA_ORDER_BTH',nqtype='insert',debug=False)
    print("DBè³‡æ–™å­˜å–å®Œç•¢ï¼Œé–‹å§‹çµ±è¨ˆè³‡æ–™")
    
    print ("JIRAæŠ“å‡ºå…± ",i+1,"  æ¢")  
    print ("JIRAæ–°å¢     ",new,"  æ¢")
    print ("JIRAæ›´æ–°     ",up,"  æ¢")
    print ("å·²çµæ¡ˆ",YC,"æ¢","å–æ¶ˆ",CC,"æ¢")
    print ("æ­·å²æ–°å¢   ",new+up+YC+CC,"  æ¢")
    print("å…¨éƒ¨è·‘å®Œå›‰!")
   
 ##ç™»å…¥å¤±æ•—åµéŒ¯
elif login.status_code == 400:  #ç¶²é Error Code
    print(login.status_code)
    print('Bad Requestï¼Œç¶²é éŒ¯èª¤')
else:
    print('Error',login.status_code) #ç™»å…¥å¤±æ•—Error Code
    print('å¸³è™Ÿå¯†ç¢¼éŒ¯èª¤','è«‹é‡æ–°è¼¸å…¥')

opentxt.close
text.clear() #é—œé–‰è¨˜äº‹æœ¬ Config

*--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--*--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--**--*--*

#!/usr/bin/env python
# coding: utf-8

# In[ ]:


from DBSrv5ConnPy.db_object import DBObject ##DBé€£ç·šå·¥å…·
from jira import JIRA ##JIRAå¥—ä»¶
import getpass ##åŠ è§£å¯†å·¥å…·
import requests ##çˆ¬èŸ²å·¥å…·
import pandas as pd ##æ½˜é”
import json
import socket
import logging
from flask import Flask
 
app = Flask(__name__)
@app.route('/JIRAGOJI')



def JIRAGOJI():

     ##æŠ“å¸³å¯†
    account = (text[1])
    password = (text[3])



    ##è§£å¯†ç¢¼
    def dectry(p):
        decodtool = 'djq%5cu#-jeq15abg$z9_i#_w=$o88m!*alpbedlbat8cr74sd'
        password_decoded = ""
        for i,j in zip(p.split("_")[:-1],decodtool):
            # i ç‚ºåŠ å¯†å­—å…ƒï¼Œjç‚ºç¥•é‘°å­—å…ƒ
            temp = chr(int(i) - ord(j)) # è§£å¯†å­—å…ƒ = (åŠ å¯†Unicodeç¢¼å­—å…ƒ - ç¥•é‘°å­—å…ƒçš„Unicodeç¢¼)çš„å–®ä½å…ƒçµ„å­—å…ƒ
            password_decoded = password_decoded+temp
        return password_decoded
    password_decoded = dectry(password)
    password = password_decoded
    authority = (account , password)



    if (text[9])=='False':
        testserver=0
    else :
        testserver=1




    mes_obj = DBObject(fab=(text[7]), is_test_db=testserver)   ##é€£å…¥è³‡æ–™åº«å» å€&Test
    login = requests.get('http://300jira:8080/', auth=authority) ##é€²å…¥jiraç¶²é 
    if login.status_code == requests.codes.ok:  ##æª¢æŸ¥ç¶²è·¯&ç™»å…¥æ˜¯å¦æ­£å¸¸

        jira = JIRA( {'server': 'http://300jira:8080/'}, basic_auth=authority) ##ç™»å…¥jira       
                                  #å»ºå€‰åº«ã€€â†“



        python_dict = []




        allfields=jira.fields() ##çˆ¬å‡ºç¶²é å…¨éƒ¨æ¬„ä½
        nameMap = {field['name']:field['id'] for field in allfields} ##çˆ¬å‡ºç¶²é å…¨éƒ¨æ¬„ä½0

        for issue in jira.search_issues(text[5],fields='*all',maxResults=100): ##æœå°‹JIRAä¸‹JQLæŒ‡ä»¤


            container = (issue.key)
            KEY_NUMBER=(container)          ##å¾€ä¸‹æŠ“å„é¡è³‡æ–™&å­˜æ”¾

            container = ('{}'.format(issue.fields.summary))
            SUMMARY_TITLE=container

            container = ('{}'.format(issue.fields.status))
            STATUS=container        

            try:
                sql = ("select TW_USERNAME from F14MGR_CUR_EMPLOYEES_V2 where name = '{}'").format(issue.fields.reporter) 
                Qreporter=mes_obj.query(sql=sql,debug=False)
                REPORTER=Qreporter.iloc[0,0]
            except:
                container = ('{}'.format(issue.fields.reporter))
                REPORTER=container     

            try:
                sql = ("select TW_USERNAME from F14MGR_CUR_EMPLOYEES_V2 where name = '{}'").format(issue.fields.assignee) 
                Qassignee=mes_obj.query(sql=sql,debug=False)
                ASSIGNEE=Qassignee.iloc[0,0]
            except:
                container = ('{}'.format(issue.fields.reporter))
                ASSIGNEE=container


            container = ('{}'.format(issue.fields.issuetype))
            ISSUE_TYPE=(container)

            container = (issue.fields.customfield_13612)
            START_TIME=(container)

            container = (issue.fields.customfield_11614)
            END_TIME=(container)

            container = ('{}'.format(issue.fields.description))
            DESCRIPTION=(container)

            container = (issue.fields.customfield_13624)
            IMPACT_HOST=(container)

            container = (issue.fields.customfield_13608)
            SOC_IP=(container)





            python_dict.append({'issue_key':KEY_NUMBER,'subject':SUMMARY_TITLE,'status':STATUS,'reporter':REPORTER,'assignee':ASSIGNEE
                         ,'issue_type':ISSUE_TYPE,'planned_start_date':START_TIME,'planned_end_date':END_TIME,'description':DESCRIPTION,
                         'impact_host':IMPACT_HOST})


        python2J= json.dumps(python_dict,ensure_ascii=False,indent=0)
        
        
        

        logging.info(json.dumps(python_dict,ensure_ascii=False,indent=0))

        return json.dumps(python_dict,ensure_ascii=False,indent=0)
        
        print ("FLASK OK")
        
        

 
    

 

        
             

 

   
     ##ç™»å…¥å¤±æ•—åµéŒ¯
    elif login.status_code == 400:  #ç¶²é Error Code
        print(login.status_code)
        print('Bad Requestï¼Œç¶²é éŒ¯èª¤')
    else:
        print('Error',login.status_code) #ç™»å…¥å¤±æ•—Error Code
        print('å¸³è™Ÿå¯†ç¢¼éŒ¯èª¤','è«‹é‡æ–°è¼¸å…¥')



    opentxt.close
    text.clear() #é—œé–‰è¨˜äº‹æœ¬ Config

if __name__ == '__main__':
    opentxt=open('Jira_IT.txt',encoding="utf-8") ##é–‹è¨˜äº‹æœ¬config
    text = []
    for line in opentxt.read().splitlines(): ##åˆ—å‡ºè¨˜äº‹æœ¬è³‡æ–™
        text.append(line)
    
    FORMAT = '%(asctime)s %(levelname)s: %(message)s'
    logging.basicConfig(level=logging.DEBUG,filename='JIRAGI.log', format=FORMAT)

    logging.debug('debug message')
    logging.info('info message')
    logging.warning('warning message')
    logging.error('error message')
    logging.critical('critical message')

    app.run(host=text[11], port=5000)
   
 





# In[ ]:

*---------------------**********---------------------**********---------------------**********---------------------**********---------------------*********

æ’°å¯«æ–‡ç« 

ç›®å‰ä»»è·æ–¼å°ç©é›»ï¼Œæ“”ä»»CIMè‡ªå‹•åŒ–æ•´åˆåŠ©ç†å·¥ç¨‹å¸«ã€‚æˆ‘å±¬æ–¼infra teamï¼Œç®¡ç†ç³»çµ±æœ€åº•å±¤çš„åŸºç¤å»ºè¨­ï¼Œä¸åƒ…éœ€ç²¾é€šWindowsã€Linuxç­‰ä½œæ¥­ç³»çµ±ä¹‹é‹ä½œï¼ŒåŠ ä¸Šå…¬å¸è¦æ¨¡é¾å¤§ï¼Œéœ€ç®¡ç†è¿‘åƒå°ä¹‹å¯¦é«”ä¼ºæœå™¨ï¼Œå› æ­¤å°æ–¼ç³»çµ±åŒ–ä¹‹ç®¡ç†ä»¥åŠé ç«¯æ“ä½œä¹‹æ‰‹æ³•äº¦æœ‰æ‰€é‘½ç ”ã€‚
çµåˆWindows Powershellä»¥åŠCMDçš„Scriptè®“ç³»çµ±ä¸­é‡è¤‡çš„å‹•ä½œè‡ªå‹•åŒ–åŸ·è¡Œï¼Œåœ¨æ–°å»ºè™›æ“¬æ©Ÿå™¨ä¸­è‡ªå‹•å®‰è£å¿…é ˆè»Ÿé«”ï¼Œç¯€çœäººåŠ›è³‡æºï¼ŒåŒæ™‚é¿å…äººç‚ºæ“ä½œç–å¤±çš„åŒæ™‚æå‡é‹ä½œæ•ˆç‡ï¼Œæ­¤æ‰‹æ³•æ›´æ˜¯å—åˆ°å‰¯ç†çš„è‚¯å®šï¼Œæ¨å»£è‡³æ•´å€‹éƒ¨é–€ï¼Œå¦å¤–åœ¨è·¨éƒ¨é–€åˆä½œçš„éƒ¨åˆ†ï¼Œç‚ºQM teamé–‹ç™¼éœ€æ±‚å–®ç®¡ç†å„²å­˜ç³»çµ±ï¼Œé‹ç”¨Pythonèˆ‡Jiraç¶²é APIæ’ˆå–ç›¸é—œè³‡æ–™é€²è¡Œå„²å­˜èˆ‡åˆ†æï¼Œè®“è¨‚å–®ç®¡ç†è‡ªå‹•åŒ–ï¼Œæé«˜äººå“¡å¯©æ ¸é€Ÿç‡ä»¥åŠè³‡æ–™æ­£ç¢ºæ€§ã€‚
é€™ä¸‰å¹´å¤šçš„å·¥ä½œç¶“é©—ï¼Œè®“æˆ‘å­¸ç¿’ã€æˆé•·äº†å¾ˆå¤šï¼Œä¸è«–æ˜¯å°ˆæ¡ˆä¸Šçš„åœ˜éšŠåˆä½œã€é«˜å£“ä¸‹çš„å±æ©Ÿè™•ç†ã€è¾¨è­˜çœŸæ­£éœ€æ±‚ã€å¦‚ä½•æé«˜å·¥ä½œæ•ˆç‡ç­‰ï¼Œéƒ½æ˜¯åœ¨å­¸æ™‚ç„¡æ³•å¾—åˆ°çš„å¯¶è²´ç¶“æ­·ï¼Œç„¶ã€Œå­¸ç„¡æ­¢å¢ƒã€ï¼Œå› æ­¤åœ¨è·ä»æ™‚æ™‚ç£ä¿ƒè‡ªå·±å¸æ”¶æ‰€å­¸ï¼ŒåŸ¹é¤Šèˆ‡æå‡è‡ªæˆ‘èƒ½åŠ›ï¼ŒæœŸè¨±è‡ªå·±èƒ½æœ‰æ›´é€²ä¸€æ­¥çš„ç™¼æ®ï¼Œæ‰€ä»¥æƒ³ç¹¼çºŒæ”»è®€ç ”ç©¶æ‰€ï¼ŒæœŸè¨±è‡ªå·±æˆç‚ºæ›´å²å®³çš„è³‡è¨Šäººæ‰ï¼

ç²é¸å¤§å­¸å°ˆé¡Œå„ªç­‰ç-æœ€ä½³æ½›åŠ›æ»¿åˆ†çš„çé …(ç°¡ä»‹æ–¼ X-X é ï¼Œå®Œæ•´æ–¼é™„éŒ„)ã€‚

*---------------------**********---------------------**********---------------------**********---------------------**********---------------------*********

æ¸…å¤§è³‡å®‰
II.	é¸æ“‡æ¸…å¤§è³‡å®‰
æ¸…è¯å¤§å­¸æ ¡å²æ‚ ä¹…ã€æ ¡å‹äººè„ˆæ¶µè“‹å„ç”¢æ¥­ï¼ŒåŒæ™‚æ“æœ‰è±å¯Œçš„å­¸è¡“è³‡æºèˆ‡å„ªç§€çš„å¸«è³‡ï¼Œè€Œæ¸…å¤§è³‡å®‰é‡è¦–ç†è«–èˆ‡å¯¦å‹™çš„çµåˆï¼Œå­¸è¡“é¢¨æ°£é¼ç››ï¼Œå¸«è³‡é™£å®¹ä¹Ÿä¾†è‡ªä¸åŒå°ˆæ¥­é ˜åŸŸèƒŒæ™¯ï¼Œå±•ç¾è·¨é ˜åŸŸèƒ½åŠ›ï¼Œä¸è«–æ˜¯è³‡æ–™æ¢å‹˜ã€ç¶²è·¯å®‰å…¨ã€ç³»çµ±è³‡æºç®¡ç†ç­‰çš†æœ‰å°ˆæ”»ï¼Œä½¿æˆ‘å¯ä»¥æ›´ç²¾é€²æ„Ÿèˆˆè¶£çš„é ˜åŸŸï¼Œç¸½çµä»¥ä¸Šï¼Œæ¸…å¤§è³‡å®‰å¯¦ä¹ƒæˆ‘å¿ƒç›®ä¸­çš„ç¬¬ä¸€å¿—é¡˜ã€‚

äºŒã€	ç ”ç©¶æ–¹å‘
ç¾ä»Šæ­£å€¼å…¨çƒè³‡è¨Šçˆ†ç‚¸æ™‚ä»£ï¼Œäººå·¥æ™ºæ…§åŠæ·±åº¦å­¸ç¿’ï¼Œçš†ç‚ºå„ç”¢æ¥­æœªä¾†ç™¼å±•å¸¶ä¾†ç„¡é™å¯èƒ½ï¼Œè³‡è¨Šå®‰å…¨ä¹Ÿæ›´é¡¯å¾—é‡è¦ï¼Œå†å®‰å…¨çš„æ©Ÿåˆ¶å¦‚å€å¡Šéˆäº¤æ˜“é ˜åŸŸã€å¾®è»ŸPrint Spooleræ¼æ´ã€é›·è›‡ç”¢å“0-dayå–å¾—æœ€é«˜æ¬Šé™ï¼Œéƒ½æœƒè®“ä½¿ç”¨è€…çš„é‡è¦è³‡è¨Šé™·å…¥å±éšªä¹‹ä¸­ã€‚
åœ¨é€²å…¥æ¥­ç•Œå¾Œï¼Œå› æ“”ä»»Driveråˆ†æå·¥ç¨‹å¸«ï¼Œå¿…é ˆå¿«é€Ÿé™¤éŒ¯ä½¿ç”¢èƒ½ç¹¼çºŒé‹è¡Œï¼Œä½¿æˆ‘å°å°è‡´éŒ¯èª¤çš„Root Causeåˆ†æèˆ‡æŠ“å–èƒ½æœ‰ä¸€å®šçš„æ•æ„Ÿåº¦ï¼Œæ–¼å°ç©é›»ä»»è·å¾Œï¼Œåœ¨è³‡è¨Šå®‰å…¨ã€æ©Ÿå¯†è³‡è¨Šä¿è­·æ›´æ˜¯é‡è¦–ã€‚
è¨ˆç•«é€²å…¥ç ”ç©¶æ‰€å°±è®€å¾Œï¼Œä»¥è³‡è¨Šå®‰å…¨ã€ç¶²è·¯å®‰å…¨ç‚ºä¸»è¦æ–¹å‘ï¼Œé€™æ˜¯è¨±å¤šç¶²è·¯æ”»æ“Šç™¼ç”Ÿçš„ç¬¬ä¸€æˆ°å ´ï¼Œä¹Ÿèƒ½ç²å¾—è¨±å¤šé‡è¦è¨Šæ¯ï¼Œå»ºç«‹ä¸€å€‹å®‰å…¨çš„ç¶²è·¯ç’°å¢ƒï¼Œå¦‚ä½•è®“ä½¿ç”¨è€…ç„¡é ˆæ†‚æ…®ï¼Œä¿è­·å¼±å‹¢ä½¿ç”¨è€…è³‡è¨Šä¸è¢«æƒ¡æ„ç«Šå–ï¼Œä¸€ç›´æ˜¯æˆ‘å¿ƒç›®ä¸­çš„ç†æƒ³ã€‚

-*---------------------**********---------------------**********---------------------**********---------------------**********---------------------*********

äº¤å¤§æ•¸æ“š

é¸æ“‡äº¤å¤§æ•¸ç§‘
äº¤é€šå¤§å­¸æ ¡å²æ‚ ä¹…ï¼Œå°¤å…¶äº¤å¤§æ•¸ç§‘æ›´æ˜¯åœ‹ç«‹å¤§å­¸ä¸­ç¬¬ä¸€æ‰€å°ˆæ³¨æ–¼æ•¸æ“šç§‘å­¸çš„ç ”ç©¶æ‰€ï¼Œæ ¡å‹äººè„ˆæ¶µè“‹å„ç”¢æ¥­ï¼Œæ“æœ‰è±å¯Œçš„å­¸è¡“è³‡æºï¼Œå¸«è³‡é™£å®¹ä¹Ÿä¾†è‡ªä¸åŒå°ˆæ¥­é ˜åŸŸèƒŒæ™¯ï¼Œå±•ç¾è·¨é ˜åŸŸèƒ½åŠ›ï¼Œä¸”äº¤å¤§æ•¸ç§‘å°æ–¼æ©Ÿå™¨å­¸ç¿’ã€å·¨é‡è³‡æ–™æ¢å‹˜ã€äººå·¥æ™ºæ…§çš†æœ‰æ‰€å°ˆæ”»ï¼Œä½¿æˆ‘å¯ä»¥æ›´ç²¾é€²æ„Ÿèˆˆè¶£çš„é ˜åŸŸï¼Œä»¤æˆ‘ååˆ†åš®å¾€ã€‚

ç ”ç©¶æ–¹å‘
ç¾ä»Šæ­£å€¼å…¨çƒè³‡è¨Šçˆ†ç‚¸æ™‚ä»£ï¼Œäººå·¥æ™ºæ…§ç‚ºä¸–ç•Œå¸¶ä¾†å·¨å¤§è¡æ“Šè®Šé©ï¼Œè€Œä¸è«–äººå·¥æ™ºæ…§ã€æ·±åº¦å­¸ç¿’ï¼Œä»°è³´çš„éƒ½æ˜¯å·¨é‡è³‡æ–™çš„è¼”åŠ©ï¼Œç‰¹åˆ¥æ˜¯æ·±åº¦å­¸ç¿’é€éè¨±å¤šè³‡æ–™é€²è¡Œæ¨¡çµ„åŒ–çš„åˆ†æï¼Œä¸è«–æ˜¯ï¼ŒèŠå¤©æ©Ÿå™¨äººã€Alphagoã€è‡ªå‹•é§•é§›ç­‰ï¼Œéƒ½å¤§é‡ä½¿ç”¨é€™é …æŠ€è¡“ï¼Œè€Œåœ¨å°ç©é›»çš„å·¥ä½œç¶“é©—ï¼Œéƒ¨é–€å…§æ¯æ—¥çš†æœ‰ä¸Šè¬ç­†çš„è³‡æ–™è¢«ä½¿ç”¨ï¼Œå¦‚ä½•é™ä½è³‡æºä½¿ç”¨ç‡ï¼Œæå‡æ•´é«”æ•ˆç‡ï¼Œæ˜¯éå¸¸é‡è¦çš„ä¸€ç’°ï¼Œç¢ºä¿è³‡æ–™æ­£ç¢ºæ€§ä»¥åŠæ™‚æ•ˆæ€§ï¼Œä¹Ÿæ˜¯éƒ¨é–€å…§çš„éµå‰‡ã€‚
æ‰€ä»¥æœ‰æ•ˆç‡çš„é‹ç”¨å·¨é‡è³‡æ–™ï¼Œåˆ°æœªä¾†æ·±åº¦å­¸ç¿’ç­‰ç­‰ç¯„åœï¼Œæ˜¯éå¸¸é‡è¦çš„ï¼Œè¨ˆç•«é€²å…¥ç ”ç©¶æ‰€å¾Œï¼Œé€éå·¨é‡åˆ†æçš„è¼”åŠ©ï¼Œè®“äººå·¥æ™ºæ…§/æ·±åº¦å­¸ç¿’çš„ä½¿ç”¨æ›´ç‚ºå»£æ³›èˆ‡ç²¾æº–ã€‚



